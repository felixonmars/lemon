<html>
<head>
  <title>Lemon</title>
  <link href="assets/styles/reset.css" rel="stylesheet" type="text/css"/>
  <link href="assets/styles/class.css" rel="stylesheet" type="text/css"/>
  <link href="assets/styles/site.css"  rel="stylesheet" type="text/css"/>
  <link href="assets/images/lemon.jpg" rel="shortcut icon"/>

  <!-- syntax highlighing -->
  <script src="http://rubyworks.github.com/assets/includes/shjs/sh_main.min.js"></script>
  <script src="http://rubyworks.github.com/assets/includes/shjs/lang/sh_ruby.min.js"></script>
  <script src="http://rubyworks.github.com/assets/includes/shjs/lang/sh_sh.min.js"></script>
  <link  href="http://rubyworks.github.com/assets/includes/shjs/css/sh_acid.min.css" rel="stylesheet" type="text/css" />
</head>
<body onload="sh_highlightDocument();">

<div id="forkme">
  <a href="http://github.com/rubyworks/lemon"><img src="assets/images/forkme.png" /></a>
</div>

<div id="header">
<div class="page">
  <img src="assets/images/cut-lemon.png" height="200px" align="right" style="padding-top: 15px;"/>
  <h1><img src="assets/images/title.png"/></h1>
  <h2>Pucker-Strength Unit Testing</h2>
</div>
</div>

<div id="main" class="bordered">
<div class="page">

  <div id="nav">
    <!-- <a href="guide/doc.en/index.html">English Manual</a> &nbsp;&middot;&nbsp; -->
    <a href="http://wiki.github.com/rubyworks/lemon">Wiki</a> <br/>
    <a href="http://rubydoc.info/gems/lemon/frames">API</a> <br/>
    <a href="http://googlegroups.com/group/rubyworks-mailinglist">Email</a> <br/>
    <a href="http://github.com/rubyworks/lemon/issues">Issue</a> <br/>
    <a href="http://github.com/rubyworks/lemon">Code</a>
  </div>

  <p>Lemon is a unit testing framework which enforces highly formal
  case-to-class and unit-to-method test construction.
  This strict approach is arguably a more proper technique for unit
  testing because it helps focus concern on individual units of
  behavior and thus helps promote good test coverage. This is unlike
  functional and integration testing which rightly focus on more
  holistic issues.</p>

<!--
  <h3>Writing Tests</h3>

  <p>Let's say we have a library that consists of the class <code>HelloWorld</code>
  with method <code>#to_s</code>:<p>

  <pre class="sh_ruby">
  class HelloWorld
    def to_s
      "Hello, World!"
    end
  end
  </pre>

  <p>We would write a Lemon test case along the following lines:</p>

  <pre class="sh_ruby">
  TestCase HelloWorld do
    Concern "String output works as expected."

    Unit :to_s do
      Test "returns a string" do
        HelloWorld.new.to_s.assert.is_a?(String)
      end
      Test "returns the world famous phrase" do
        HelloWorld.new.to_s.assert == "Hello, World!"
      end
    end
  end
  </pre>

  <p>Clearly an overly simplistic example, but it demonstrates well enough the overall design of Lemon
  tests. Notice that the <code>#TestCase</code> method references a class (this can also be a module) and the units each
  refer to a method of the class.</p>

  <p>Lemon uses the <a href="http://rubyworks.github.com/ae">Assertive Expressive</a>
  assertions framework. This is the same verstile framework used by <a href="http://rubyworks.github.com/qed">Q.E.D.</a>.
  By default Lemon test support the standard <code>#assert</code> and <code>#expect</code> assertion methods.
  If you wish to use subjunctive terms, either <code>#should</code> or <code>#must</code>, you can load these
  via a helper script (eg. <code>require 'ae/should'</code>).</p>

  <h3>Running Tests</h3>

  <p>The <tt>lemon</tt> command-line tool is used to run tests. Simply provide the name of the test files as arguments:</p>

  <pre class="sh_sh">
  > lemon test/cases/*.rb
  </pre>

  <p>By default the <tt>lemon</tt> command outputs the traditional dot-progress format. The <tt>--verbose</tt>
  or <tt>-v</tt> option provides additional information about each unit test and concern
  as they are executed.</p>

  <h3>Test Coverage</h3>

  <p>The <tt>lemon</tt> command can also be used to check test coverage. For this use the <tt>--coverage</tt>
  or <tt>-c</tt> option.</p>

  <pre class="sh_sh">
  > lemon -c test/cases/*.rb
  </pre>

  <p>To enusre only the code you are interested in is checked, you can either use <tt>-r</tt> to pre-require
  support libraries you wish not to include in the output. Or more conveniently, supply specific namespaces
  to include via the <tt>--namespace</tt> or <tt>-n</tt> option.

  <pre class="sh_sh">
  > lemon -c -n HelloWorld test/cases/*.rb
  </pre>

  <p>For more information on Lemon and how to use it please see the Lemon <a href="http://wiki.github.com/rubyworks/lemon">Wiki</a>.</p>

  <h2>Development</h2>

  <p>Lemon is a RubyWorks project. Development is hosted on GitHub at:</p>

  <pre>
  <a href="http://github.com/rubyworks/lemon">http://github.com/rubyworks/lemon</a>
  </pre>

  <h3>License</h3>

  <p>Lemon is an open-source project licensed under the terms of <b>Lesser General Public License</b>.</p>

-->
</div>
</div>

<div>
<div class="page">
  <h3>Example</h3>

  <p>To give you a taste of what a lemon testcase looks like, let's say we have a library
  that consists of the class <code>HelloWorld</code> with method <code>#to_s</code>:<p>

<pre class="sh_ruby">
  class HelloWorld
    def to_s
      "Hello, World!"
    end
  end
</pre>

  <p>We would write a Lemon test case along the following lines:</p>

<pre class="sh_ruby">
  TestCase HelloWorld do
    Concern "String output works as expected."

    Unit :to_s => "returns a string" do
      HelloWorld.new.to_s.assert.is_a?(String)
    end

    Unit :to_s => "returns a 13 character phrase" do
      HelloWorld.new.to_s.size.assert == 13
    end
  end
</pre>

  <p>A silly example to be sure, but one we can all easily understand.</p>

</div>
</div>

<div id="footer" class="bordered">
<div class="page">
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-1126154564663472";
  /* RUBYWORKS 09-10-02 728x90 */
  google_ad_slot = "0788888658";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>

  <br/><br/><br/>

  <div class="copyright" width="100%">
    <a href="http://rubyworks.github.com/">
      <img src="assets/images/ruby-logo.png" height="110px" align="left" style="margin: 0 5px; padding: 0 10px" />
    </a>
    <a href="http://www.apache.org/licenses/LICENSE-2.0.html">
      <img src="assets/images/opensource.png" height="120px" align="left" style="padding: 0 10px;" />
    </a>
    <a href="github.com/rubyworks/lemon">
      <img src="assets/images/github-logo.png" height="115px" align="left" style="margin: 0; padding: 0 10px;" />
    </a>
    <a href="http://testanything.org/wiki/index.php/Main_Page">
      <img src="assets/images/tap.png" height="113px" align="left" style="margin: 0; padding: 0 20px;" />
    </a>
    <a href="">
      <img src="assets/images/lemons-are-good.png" height="117px" align="left" style="margin: 0; padding: 0 10px;" />
    </a>
  </div>

  <br style="clear: both;" />

  <div style="margin-top: 30px;">
      <b>Lemon</b>, Copyright &copy; 2009 Thomas Sawyer &middot;
      <b>Contact:</b> transfire @ gmail.com
  </div>
</div>
</div>

</body>
</html>

